# PennSkype

The MenuView is the initial menu interface for the application. It simply includes a 'join' button that allows the user to connect to a web chat. The DisplayView class is the main user interface for when the webchat is active. On the left side of the frame is the user's local webcam. On the right is the incoming stream of the connected webcam. The interface includes radio buttons that allow the user to choose the level of compression to use when sending video. The user can choose between '1/2', and 'None'. 'None' will send the stream without any compression of images so it is expected to be the slowest of the two options. Conversely, if the user chooses 1/2 compression the compression will be lossy but it should offer the
most responsive video between computers. The interface also allows the user to choose between broadcasting in grayscale or color. Choosing grayscale decreases the amount of data sent so the performance is expected to be better when streaming in black and white mode. The interface also includes an 'End' button which will close the connection between computers
and shut down the application.

As the live feed from the webcam is split into frames, the images are split into the Red, Green and Blue channels and passed through a real time compression algorithm. Prinicipal Componenet  Analysis(PCA) based compression is performed separately on the three channels . PCA involves the projection of the signal onto a basis of eigen vectors V such that V diagonalizes its covariance matrix. The 2D matrix of colors was first converted into a 2 x n row 2D array and the JAMA library's SVD implementation was used to find the covariance matrix. From here the the rotation matrix was calculated and a simple Matrix Multiplication gave the Principal Components. This translated the amount of data being sent to half of the original along with parameters like the rotation factor, height , width , compression ratio and color. For an RGB image the compression for each of the color channels were done on separate threads to utilize concurrancy. Gray scale images required only a single channel compression and lesser data to be transmmitted. It was found that further compression from 1/2 drastically deteriorated the quality of the original image. For reconstruction, the reverse mathematical process was performed again of separate threads for the Red , green and blue channels and the original image was reconstructed using the parameters sent with the image. 

The application is designed with MVC in mind. We have several views representing the different pages the user interacts with. The WebcamController class handles interactions between the user and the interface and alerts the model of any actions the user has taken such as switching color mode or compression. The model then handles the main functions of the application and returns the processed images to the be displayed by the view. The WebcamStream class contains the main method and serves as the driver for the application. It initializes the views, the controller and the model.

